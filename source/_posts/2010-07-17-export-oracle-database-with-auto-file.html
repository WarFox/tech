---
layout: post
title: "How to export Oracle database using windows batch file with auto file name"
date: 2010-07-17T23:05:00+05:30
categories:
 - Batch Script
 - Oracle
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">Hi folks, this tip is for the DBA's and developers who do the tedious task -&nbsp;Daily back up of database!!!&nbsp;Every day run a script to export oracle database.Each day you would have to modify your export batch file with the current date and to do it. I thought of creating a batch file that accepts the user name and password and then exports the database and creates a dump file with auto filename. You will get a new dump file each day,with the date appended in the file name. No need of manually giving the date.<br />Copy paste the below code to create a batch file (*.bat)<br /><br /><pre class="brush:vb;gutter:false">cls<br />@echo off<br />REM Export Full database with auto filename for dump and log<br />REM This batch file will create the dump and log files in the same directory as of batch<br />REM File name syntax --&gt; &lt;SCHEMANAME&gt;_&lt;DD&gt;_&lt;MM&gt;_&lt;YYYY&gt;<br />REM Auther: Deepu Mohan P, www.deepumohan.com<br />REM Created:  07-Sep-2009<br />REM Modified: 30-Sep-2009, 01-Oct-2009<br /><br />REM Get user credentials<br />set /p schema=Enter username: <br />set /p pwd=Enter password: <br />set /p sid=SID: <br /><br />REM Following block is for getting the year, month and day<br />REM ======================================================<br />   FOR /f "tokens=2-4 skip=1 delims=(-)" %%G IN ('echo.^|date') DO (<br />      FOR /f "tokens=2 delims= " %%A IN ('date /t') DO (<br />         SET v_first=%%G<br />         SET v_second=%%H<br />         SET v_third=%%I<br />         SET v_all=%%A<br />      )<br />   )<br /><br />      SET %v_first%=%v_all:~0,2%<br />      SET %v_second%=%v_all:~3,2%<br />      SET %v_third%=%v_all:~6,4%<br />REM =====================================================<br /><br />exp %schema%/%pwd%@%sid% FILE=%user%_%dd%_%mm%_%yy%.dmp log=%user%_%dd%_%mm%_%yy%.log<br />compress=N rows=Y grants=Y buffer=500000 FULL=Y statistics=NONE<br /><br />pause<br /></pre> If there is any issue, suggestion or feedback please put it in comments.  <i>Share it if you liked!</i></div><div class="blogger-post-footer"><div style="border-top: 1px solid #efefef; margin-top: 5px;">
Thank you for reading. This blog post was originally posted to <a href="http://tech.deepumohan.com/">Deepu's Technology Blog</a>.
</div></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Deepu Mohan Puthrote</div>
<div class='content'>
sure :)</div>
</div>
<div class='comment'>
<div class='author'>Mich9</div>
<div class='content'>
<a href="http://www.google.com" rel="nofollow">google knows it</a> :-D</div>
</div>
<div class='comment'>
<div class='author'>Deepu Mohan Puthrote</div>
<div class='content'>
@Amit can you please post those changes here, so that it will help others too...</div>
</div>
<div class='comment'>
<div class='author'>Amit</div>
<div class='content'>
tHANKS IT STARTS WORKING PROPERLY BY MAKING LITTLE CHANGES IN IT.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
thank you!</div>
</div>
</div>
