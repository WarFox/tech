---
layout: post
title: "JS: Word Count using Javascript"
date: 2011-12-23T21:07:00+05:30
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">I just made a <a href="http://www.deepumohan.com/projects/word-count/">word counter using Javascript</a>. Started it of as a <a href="http://jsfiddle.net/deepumohanp/jZeKu/">jsfiddle</a> attempt out of boredom. Thought it will help me count the words in assignments. blah.&nbsp;I have also made the source code available in <a href="https://github.com/WarFox/word-count">github</a>.<br /><br />The counter is a simple javascript function, but have used jQuery selectors for simplicity and easiness. Initially my aim was to just get the count of words in the textarea by splitting the spaces and adding 1. But that approach is not accurate, when there are multiple spaces between words. So I used regular expression for replacing multiple spaces with a single space:&nbsp;<span style="background-color: white; font-family: 'Bitstream Vera Sans Mono','Courier New',monospace; font-size: 12px; line-height: 16px; white-space: pre;"><b><span style="color: #009926;">/\s+/gi</span>. </b></span><br /><br /><pre class="brush:javascript">counter = function() {<br />    var value = $('#text').val();<br /><br />    if (value.length == 0) {<br />        $('#wordCount').html(0);<br />        $('#totalChars').html(0);<br />        $('#charCount').html(0);<br />        $('#charCountNoSpace').html(0);<br />        return;<br />    }<br /><br />    var regex = /\s+/gi;<br />    var wordCount = value.trim().replace(regex, ' ').split(' ').length;<br />    var totalChars = value.length;<br />    var charCount = value.trim().length;<br />    var charCountNoSpace = value.replace(regex, '').length;<br /><br />    $('#wordCount').html(wordCount);<br />    $('#totalChars').html(totalChars);<br />    $('#charCount').html(charCount);<br />    $('#charCountNoSpace').html(charCountNoSpace);<br />};<br /></pre><br />The results are set in &lt;span&gt; elements as follows:<br /><pre class="brush:html">    <span id="wordCount">0</span><br />    <span id="totalChars">0</span><br />    <span id="charCount">0</span><br />    <span id="charCountNoSpace">0</span><br /></pre><br />Now attach the counter function to change, keydown, keypress, keyup, blur and focus events of the textarea, to make sure the function called on every change. <br /><br /><pre class="brush:javascript">$(document).ready(function() {    <br />    $('#text').change(counter);<br />    $('#text').keydown(counter);<br />    $('#text').keypress(counter);<br />    $('#text').keyup(counter);<br />    $('#text').blur(counter);<br />    $('#text').focus(counter);<br />});<br /></pre><br />This can be accessed in the following links<br /><h3>    1. <a href="http://www.deepumohan.com/projects/word-count/">Word Counter using javascript</a></h3><h3>    2. <a href="https://github.com/WarFox/word-count">Source code for word counter using javascript</a></h3><h3>    3. <a href="http://jsfiddle.net/deepumohanp/jZeKu/">jsFiddle for word counter using javascript</a></h3><br />Please report any bugs, issues or suggestions in github or just comment here.<br /><br /><i>Share it if you liked!</i></div><div class="blogger-post-footer"><div style="border-top: 1px solid #efefef; margin-top: 5px;">
Thank you for reading. This blog post was originally posted to <a href="http://tech.deepumohan.com/">Deepu's Technology Blog</a>.
</div></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>sean rainey</div>
<div class='content'>
Hi, is it possible for this to count standard text that is inside a &#39;div&gt; rather than inside an input form?</div>
</div>
<div class='comment'>
<div class='author'>Deepu Mohan Puthrote</div>
<div class='content'>
@jack thank your for notifying this.<br />This bug is already added in github repository issuues. Feel free to fork it. cheeers</div>
</div>
<div class='comment'>
<div class='author'>jack</div>
<div class='content'>
nice post, i find your approach simple.<br />just pressing enter/return key in your demo site, increments word count. bug??</div>
</div>
</div>
