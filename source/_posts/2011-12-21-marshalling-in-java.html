---
layout: post
title: "Java: Marshalling in Java"
date: 2011-12-21T19:59:00+05:30
categories:
 - Java
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on">Marshalling is a technique that can be easily understood and utilized efficiently. IT is the process of converting a POJO(Plain Old Java Object) in memory into a format that can be written to disk or send via network, usually in text formats like xml or json. The reverse of this technique is called unmarshalling.<br /><br /><h2>Difference between Marshalling and Serialization:</h2>Marshalling is similar to Serialization in practice but the difference is that, Marshalling also saves the code of an object in addition to its state.<br /><br /><h2>Example</h2>In the following example to explain marshalling, standard JAXB(Java Architecture for XML Binding) is used. For marshalling an object using JAXB, it must have annotation for the root element - <code>@XmlRootElement</code><br /><pre class="brush: java"> <br />package blog.warfox.tutorials.marshalling;<br /><br />import javax.xml.bind.annotation.XmlRootElement;<br /><br />/**<br /> * Student class for Marshalling demo example<br /> * @author warfox<br /> */<br />@XmlRootElement(name="student")<br /><br />public class Student {<br /><br />     private String name;<br />     private int rollNo;<br />     private double marks;<br />     private int rank;<br /><br />     public String getName() {<br />          return this.name;<br />     }<br /><br />     public void setName(String name) {<br />          this.name = name;<br />     }<br /><br />     public int getRollNo() {<br />          return this.rollNo;<br />     }<br /><br />     public void setRollNo(int rollNo) {<br />          this.rollNo = rollNo;<br />     }<br /><br />     public double getMarks() {<br />          return this.marks;<br />     }<br /><br />     public void setMarks(double marks) {<br />          this.marks = marks;<br />     }<br /><br />     public int getRank() {<br />          return this.rank;<br />     }<br /><br />     public void setRank(int rank) {<br />          this.rank = rank;<br />     }<br />}<br /><br /></pre><br /><h2>Marshaller class which does the marshalling job</h2>An instance of student is created and given for marshalling. <br /><pre class="brush:java">package blog.warfox.tutorials.marshalling;<br /><br />import java.io.StringWriter;<br /><br />import javax.xml.bind.JAXBContext;<br />import javax.xml.bind.JAXBException;<br />import javax.xml.bind.Marshaller;<br /><br />public class MyMarshaller {<br /><br />     public static String marshall(Object object) throws JAXBException {<br /><br />        JAXBContext context = JAXBContext.newInstance(object.getClass());<br />        <br />        Marshaller m = context.createMarshaller();<br />        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);<br /><br />        StringWriter writer = new StringWriter();<br />        m.marshal(object, writer);<br /><br />        return writer.toString();<br />    }<br /><br />    public static void main(String[] args) throws JAXBException {<br /><br />        Student student = new Student();<br />        student.setName("Name");<br />        student.setRollNo(1);<br />        student.setMarks(99.99);<br />        student.setRank(1);<br />  <br />        System.out.println(marshall(student));<br />   }<br />}<br /><br /></pre>Output:<br /><br /><pre class="brush:xml"><student><br />    <marks>99.99</marks><br />    <name>Name</name><br />    <rank>1</rank><br />    <rollno>1</rollno><br /></student><br /><br /></pre><br />In the above example, JAXB has automatically copied the xml tags from the property names of <code>Student</code> class. We can set our own tag names by using JAXB's <code>@XmlElement</code> annotation on the access method as follows.<br /><br /><pre class="brush:java">package blog.warfox.tutorials.marshalling;<br /><br />import javax.xml.bind.annotation.XmlElement;<br />import javax.xml.bind.annotation.XmlRootElement;<br /><br />/**<br /> * Student class for Marshalling demo example<br /> * @author warfox<br /> *<br /> */<br />@XmlRootElement(name="student")<br />public class Student {<br /><br />   private String name;<br /><br />   private int rollNo;<br /><br />   private double marks;<br /><br />   private int rank;<br /><br />   @XmlElement(name="student-name") <br />   public String getName() {<br />      return this.name;<br />   }<br /><br />   public void setName(String name) {<br />     this.name = name;<br />   }<br /><br />   @XmlElement(name="student-rollno")<br />   public int getRollNo() {<br />     return this.rollNo;<br />   }<br /><br />   public void setRollNo(int rollNo) {<br />     this.rollNo = rollNo;<br />   }<br /><br />   @XmlElement(name="student-marks")<br />   public double getMarks() {<br />     return this.marks;<br />   }<br /><br />   public void setMarks(double marks) {<br />     this.marks = marks;<br />   }<br /><br />   @XmlElement(name="student-rank")<br />   public int getRank() {<br />     return this.rank;<br />   }<br /><br />   public void setRank(int rank) {<br />    this.rank = rank;<br />   }<br />}<br /></pre><br />Output: <br /><pre class="brush:xml"><student><br />    <student-marks>99.99</student-marks><br />    <student-name>Name</student-name><br />    <student-rank>1</student-rank><br />    <student-rollno>1</student-rollno><br /></student><br /></pre><br />Share this tutorial if it helped you.</div><div class="blogger-post-footer"><div style="border-top: 1px solid #efefef; margin-top: 5px;">
Thank you for reading. This blog post was originally posted to <a href="http://tech.deepumohan.com/">Deepu's Technology Blog</a>.
</div></div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
thanks</div>
</div>
<div class='comment'>
<div class='author'>Deepu Mohan Puthrote</div>
<div class='content'>
@ben, i tried to make it as simple as possible</div>
</div>
<div class='comment'>
<div class='author'>ben</div>
<div class='content'>
very simple example showing the basic annotation for JAXB. thanks</div>
</div>
</div>
